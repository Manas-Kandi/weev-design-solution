@import "tailwindcss";

@theme {
  /* Typography */
  --font-sans: var(--font-inter, ui-sans-serif, system-ui, sans-serif);
  --font-mono: var(--font-jetbrains, ui-monospace, monospace);

  /* Colors */
  --color-background: 0 0% 100%;
  --color-foreground: 240 10% 3.9%;
  --color-card: 0 0% 100%;
  --color-card-foreground: 240 10% 3.9%;
  --color-popover: 0 0% 100%;
  --color-popover-foreground: 240 10% 3.9%;
  --color-primary: 240 5.9% 10%;
  --color-primary-foreground: 0 0% 98%;
  --color-secondary: 240 4.8% 95.9%;
  --color-secondary-foreground: 240 5.9% 10%;
  --color-muted: 240 4.8% 95.9%;
  --color-muted-foreground: 240 3.8% 46.1%;
  --color-accent: var(--color-accent-400);
  --color-accent-foreground: 0 0% 100%;
  /* Accent ramps */
  --color-accent-100: 220 90% 95%;
  --color-accent-200: 220 90% 85%;
  --color-accent-300: 220 90% 75%;
  --color-accent-400: 220 90% 65%;
  --color-accent-500: 220 90% 55%;
  --color-destructive: 0 84.2% 60.2%;
  --color-destructive-foreground: 0 0% 98%;
  --color-border: 240 5.9% 90%;
  --color-input: 240 5.9% 90%;
  --color-ring: 240 4.9% 83.9%;

  --chart-1: 12 76% 61%;
  --chart-2: 173 58% 39%;
  --chart-3: 197 37% 24%;
  --chart-4: 43 74% 66%;
  --chart-5: 27 87% 67%;

  /* Spacing */
  --spacing-0: 0;
  --spacing-px: 1px;
  --spacing-0_5: 0.125rem;
  --spacing-1: 0.25rem;
  --spacing-1_5: 0.375rem;
  --spacing-2: 0.5rem;
  --spacing-2_5: 0.625rem;
  --spacing-3: 0.75rem;
  --spacing-3_5: 0.875rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-6: 1.5rem;
  --spacing-7: 1.75rem;
  --spacing-8: 2rem;
  --spacing-9: 2.25rem;
  --spacing-10: 2.5rem;
  --spacing-11: 2.75rem;
  --spacing-12: 3rem;
  --spacing-14: 3.5rem;
  --spacing-16: 4rem;
  --spacing-20: 5rem;
  --spacing-24: 6rem;
  --spacing-28: 7rem;
  --spacing-32: 8rem;

  /* Border radius */
  --radius: 0.5rem;
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1),
    0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1),
    0 8px 10px -6px rgb(0 0 0 / 0.1);

  /* Glassmorphism */
  --glass-bg: rgba(255, 255, 255, 0.3);
  --glass-backdrop: blur(10px);
  --glass-shadow: 0 4px 30px rgba(0, 0, 0, 0.1),
    0 0 1px rgba(255, 255, 255, 0.5);

  /* Scrollbar */
  --scrollbar-size: 8px;
  --scrollbar-track: hsl(var(--color-muted));
  --scrollbar-thumb: hsl(var(--color-muted-foreground));
  --scrollbar-thumb-hover: hsl(var(--color-muted-foreground));

  /* Animation */
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 400ms;

  /* Motion */
  --transition-base: 0.2s ease-out;
  --transition-hover: var(--transition-base);
  --transition-focus: var(--transition-base);
}

.dark {
  --color-background: 240 10% 3.9%;
  --color-foreground: 0 0% 98%;
  --color-card: 240 10% 3.9%;
  --color-card-foreground: 0 0% 98%;
  --color-popover: 240 10% 3.9%;
  --color-popover-foreground: 0 0% 98%;
  --color-primary: 0 0% 98%;
  --color-primary-foreground: 240 5.9% 10%;
  --color-secondary: 240 3.7% 15.9%;
  --color-secondary-foreground: 0 0% 98%;
  --color-muted: 240 3.7% 15.9%;
  --color-muted-foreground: 240 5% 64.9%;
  --color-accent: var(--color-accent-400);
  --color-accent-foreground: 240 10% 3.9%;
  /* Accent ramps */
  --color-accent-100: 220 50% 20%;
  --color-accent-200: 220 60% 30%;
  --color-accent-300: 220 70% 40%;
  --color-accent-400: 220 80% 50%;
  --color-accent-500: 220 90% 60%;
  --color-destructive: 0 62.8% 30.6%;
  --color-destructive-foreground: 0 85.7% 97.3%;
  --color-border: 240 3.7% 15.9%;
  --color-input: 240 3.7% 15.9%;
  --color-ring: 240 4.9% 83.9%;

  --chart-1: 220 70% 50%;
  --chart-2: 160 60% 45%;
  --chart-3: 30 80% 55%;
  --chart-4: 280 65% 60%;
  --chart-5: 340 75% 55%;

  /* Glassmorphism */
  --glass-bg: rgba(0, 0, 0, 0.3);
  --glass-backdrop: blur(10px);
  --glass-shadow: 0 4px 30px rgba(0, 0, 0, 0.2),
    0 0 1px rgba(255, 255, 255, 0.05);
  }

 @media (prefers-color-scheme: dark) {
   :root {
     --color-background: 240 10% 3.9%;
     --color-foreground: 0 0% 98%;
     --color-card: 240 10% 3.9%;
     --color-card-foreground: 0 0% 98%;
     --color-popover: 240 10% 3.9%;
     --color-popover-foreground: 0 0% 98%;
     --color-primary: 0 0% 98%;
     --color-primary-foreground: 240 5.9% 10%;
     --color-secondary: 240 3.7% 15.9%;
     --color-secondary-foreground: 0 0% 98%;
     --color-muted: 240 3.7% 15.9%;
     --color-muted-foreground: 240 5% 64.9%;
     --color-accent: var(--color-accent-400);
     --color-accent-foreground: 240 10% 3.9%;
     --color-accent-100: 220 50% 20%;
     --color-accent-200: 220 60% 30%;
     --color-accent-300: 220 70% 40%;
     --color-accent-400: 220 80% 50%;
     --color-accent-500: 220 90% 60%;
     --color-destructive: 0 62.8% 30.6%;
     --color-destructive-foreground: 0 85.7% 97.3%;
     --color-border: 240 3.7% 15.9%;
     --color-input: 240 3.7% 15.9%;
     --color-ring: 240 4.9% 83.9%;
     --chart-1: 220 70% 50%;
     --chart-2: 160 60% 45%;
     --chart-3: 30 80% 55%;
     --chart-4: 280 65% 60%;
     --chart-5: 340 75% 55%;
     /* Glassmorphism */
     --glass-bg: rgba(0, 0, 0, 0.3);
     --glass-backdrop: blur(10px);
     --glass-shadow: 0 4px 30px rgba(0, 0, 0, 0.2),
       0 0 1px rgba(255, 255, 255, 0.05);
   }
 }

/* Glassmorphic Sidebar */
[data-sidebar="sidebar"] {
  background: rgba(15, 15, 15, 0.85);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-right: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.02);
  background: linear-gradient(135deg, rgba(20, 20, 20, 0.9), rgba(10, 10, 10, 0.8));
}

/* CRITICAL: Add the missing Figma variables that your components are expecting */
:root {
  /* Figma Design Variables - These were missing! */
  --figma-bg: #0c0c0c;
  --figma-surface: #1a1a1a;
  --figma-surface-hover: #2a2a2a;
  --figma-border: #333333;
  --figma-border-strong: #404040;
  --figma-text: #ffffff;
  --figma-text-secondary: #b3b3b3;
  --figma-text-tertiary: #808080;
  --figma-accent: #18a0fb;
  --figma-accent-hover: #1e96f0;
  --figma-success: #1bc47d;
  --figma-warning: #ffcd29;
  --figma-danger: #f24822;

  /* Unified spacing system */
  --space-0: 0px;
  --space-1: 2px;
  --space-2: 4px;
  --space-3: 6px;
  --space-4: 8px;
  --space-6: 12px;
  --space-8: 16px;
  --space-10: 20px;
  --space-12: 24px;
  --space-16: 32px;
  --space-20: 40px;

  /* Aliases for spacing */
  --space-xs: var(--space-2);
  --space-sm: var(--space-4);
  --space-md: var(--space-8);
  --space-lg: var(--space-12);
  --space-xl: var(--space-16);

  /* Typography scale */
  --text-xs: 11px;
  --text-sm: 12px;
  --text-base: 13px;
  --text-md: 14px;
  --text-lg: 16px;
  --text-xl: 18px;

  /* Aliases for typography */
  --fs-xs: var(--text-xs);
  --fs-sm: var(--text-sm);
  --fs-base: var(--text-base);
  --fs-md: var(--text-md);
  --fs-lg: var(--text-lg);
  --fs-xl: var(--text-xl);

  /* Font families */
  --font-ui: var(--font-inter);
  --font-code: var(--font-jetbrains);

  /* Border radius */
  --figma-radius: 6px;
  --figma-radius-sm: 3px;
  --figma-radius-lg: 8px;
  --figma-radius-xl: 12px;

  /* Figma-specific measurements */
  --toolbar-height: 40px;
  --tab-height: 32px;
  --sidebar-width: 240px;
  --properties-width: 280px;
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans);
    font-feature-settings: "rlig" 1, "calt" 1;
    /* Ensure the background is always Figma BG and no margin/padding at top */
    background-color: var(--figma-bg) !important;
    color: var(--figma-text);
    margin: 0 !important;
    padding: 0 !important;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-semibold tracking-tight;
  }

  p {
    @apply leading-7;
  }

  button {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50;
  }

  input,
  textarea,
  select {
    @apply flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* Figma-style scrollbars */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--figma-border);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--figma-border-strong);
  }
}

@layer utilities {
  .figma-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .figma-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .figma-scrollbar::-webkit-scrollbar-thumb {
    background: var(--figma-border);
    border-radius: 4px;
  }

  .figma-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--figma-border-strong);
  }

  .animate-accordion-down {
    animation: accordion-down var(--duration-fast) var(--ease-out) forwards;
  }

  .animate-accordion-up {
    animation: accordion-up var(--duration-fast) var(--ease-out) forwards;
  }

  @keyframes accordion-down {
    from {
      height: 0;
    }

    to {
      height: var(--radix-accordion-content-height);
    }
  }

  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }

    to {
      height: 0;
    }
  }
}

/* Pulse animation for node updates */
@keyframes node-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(24, 160, 251, 0.7);
  }
  70% {
    box-shadow: 0 0 10px 6px rgba(24, 160, 251, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(24, 160, 251, 0);
  }
}

.node-pulse {
  animation: node-pulse 0.6s ease-out;
}

/* Custom Scrollbar Styles */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
  padding-right: 14px; /* Creates gap from screen edge */
}

.custom-scrollbar::-webkit-scrollbar {
  width: 6px; /* Thin scrollbar */
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent; /* Hide track background */
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.6);
  border-radius: 3px;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    0 0 8px rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(8px);
  transition: all 0.2s ease;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: rgba(0, 0, 0, 0.8);
  box-shadow: 
    0 3px 6px rgba(0, 0, 0, 0.6),
    inset 0 1px 0 rgba(255, 255, 255, 0.08),
    0 0 12px rgba(0, 0, 0, 0.5);
}

.custom-scrollbar::-webkit-scrollbar-corner {
  background: transparent;
}

/* Hide scrollbar while keeping functionality */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari, Opera*/
}
